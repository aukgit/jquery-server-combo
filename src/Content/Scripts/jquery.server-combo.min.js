(function(n,t,i,r){"use strict";function u(n,t,i){n.hide();this.settings=i;this.$implementDiv=t;this.$element=n;this._name=e;this.init(n,t)}function(){this.isEmpty(this.ajaxRequest)||this.ajaxRequest.abort()}if(typeof jQuery=="undefined")throw new Error("serverComboBox requires jQuery");if(typeof jQuery.validator=="undefined")throw new Error("serverComboBox requires jQuery validation plugin & jquery.validate.unobtrusive plugin.");var e="serverComboBox",o,s={crossDomain:!0,multipleRequests:!0,checkValidationBeforeSendingRequest:!0,dontSendSameRequestTwice:!0,disableInputOnValidation:!0,focusPersistIfNotValid:!0,hideOnValidation:!1,placeHolder:"",placeHolderValue:"",placeHolderDisable:!1,isDynamicLoad:!0,isTag:!1,isLiveSearch:!1,isOdata:!1,isOdataPagefromServer:!0,isMultipleSelect:!0,isSelectFirstIndexByDefault:!0,submitMethod:"Get",isRequired:!0,oDataRelationsList:[],isPaginationEnable:!1,pageSize:30,totalItemsCountOnServer:0,currentPage:1,maxDisplayItems:10,displayField:"display",searchingField:"display",valueField:"id",valueSelect:"",selectsFistOneByDefault:!0,url:"",delay:250,nextPageUrl:"?Page=@pageNumber",selfUI:!1,isOptimized:!0,additionalCSS:"",singleItemClass:"",isDependableCombo:!0,dependablePropertyName:"",inputValidationRegularExpression:"",elementCreatingId:"",elementName:"",isCustomHtml:!0,searchType:{startsWith:!0,contains:!1,equal:!1,notEqual:!1,custom:""},messages:{requesting:"Requesting data..."},selectors:{label:".jq-server-combo-label",comboImplement:".jq-server-combo-implement",divContainer:".form-combo",additionalFields:["[name=__RequestVerificationToken]"]},attributes:{url:"data-url",isValidate:"data-is-validate",submitMethod:"data-submit-method",propertyFieldName:"data-name"},icons:{invalid:"validation-icon-invalid fa fa-times",valid:"validation-icon-valid fa fa-check",spinner:"validation-icon-spinner fa fa-refresh fa-spin-custom",error:"validation-icon-error fa fa-exclamation-circle"},cssClass:{input:"jq-input",inputHover:"jq-combo-hover",comboHidden:"jq-combo-hidden",combo:"jq-combo",comboOpen:"jq-combo-open",comboHover:"jq-combo-hover",styleSetName:"default",listItem:"jq-list-item",requestSending:"requesting-to-server"},iconsIdPrefixes:{invalid:"invalid-mark-",valid:"valid-mark-",spinner:"validation-spinner-",error:"validation-error-"},response:{message:"Field is valid.",isValid:!0,isError:!1,errorCode:null,errorMessage:null},events:{iconCreated:function(){},sameRequestTwice:function(){},beforeSendingRequest:function(){},responseReceived:function(){},responseProcessed:function(){},invalidBefore:function(){},invalidAfter:function(){},validBefore:function(){},validAfter:function(){},onError:function(){}}};n.extend(u.prototype,{data:null,currentPageData:null,selectedData:null,isDebugging:!1,isEmpty:function(n){return n===null||n===r||n.length===0},init:function(n,t){this.isProcessingRequired()&&(this.retrieveData.plguin=this,this.ajax.plguin=this,this.processDiv(n,t))},getSettings:function(){return this.settings},isProcessingRequired:function(){var n=this.getSettings();return n.isDynamicLoad},isMultipleRequestAllowed:function(){return this.getSettings().multipleRequests},isDisableInputOnValidation:function(){return this.getSettings().disableInputOnValidation},isInputValidationRequirestoSendRequest:function(){return this.getSettings().checkValidationBeforeSendingRequest},dontSendSameRequestTwice:function(){return this.getSettings().dontSendSameRequestTwice},getAttributes:function(){return this.getSettings().attributes},getEvents:function(){return this.getSettings().events},getIcons:function(){return this.getSettings().icons},getIdPrefixes:function(){return this.getSettings().iconsIdPrefixes},getSelectors:function(){return this.getSettings().selectors},getMessages:function(){return this.getSettings().messages},getInputOrCreate:function(){return this.isEmpty(this.$input),this.$input},getUrl:function(){var n=this.getSettings();return n.url},processDiv:function(n,t){var i=this.getUrl(t);this.retrieveData.get(i);settings.selfUI===!1},test:function(){this.showSpinner($input)},setCurrentTextForNexttimeChecking:function(n){n.attr("data-previous-submit",n.val())},isPreviousRequestIsSame:function(n,t,i){var u=t.attr("data-previous-submit"),r=u===t.val(),e=this.getSettings(),f=e.events;return this.isDebugging&&console.log("Request is same : "+r),r&&(this.isEmpty(f.sameRequestTwice)||f.sameRequestTwice(n,t,i,u)),r},createInput:function(){},inputProcessWithBlurEvent:function(){var n=this,t=this.getSettings()},blurEvent:function(){},focusIfnotValid:function(n,t){if(t===!0){n.focus();return}n.valid()===!1&&n.focus()},concatAdditionalFields:function(n){var t=o.slice(),i={name:n.attr("name"),value:n.val()};return t.push(i),t},getSubmitMethod:function(){return this.getSettings().submitMethod},markAsProcessing:function(n,t){this.isDebugging&&console.log("Making: "+t);n.attr("data-is-processing",t)},isInProcessingMode:function(n){var t=n.attr("data-is-processing");return this.isDebugging&&console.log("is Processing: "+t),t==="true"},animateOn:function(n){n.fadeIn("slow")},animateOff:function(n){n.hide()},classAddRemove:function(n,t,i){this.isEmpty(t)||n.addClass(t);this.isEmpty(i)||n.removeClass(i)},render:{plugin:null,input:function(t){var i=t.getSettings().cssClass;t.isEmpty(this.$input)&&n("<input/>",{})}}},ajax);abortPrevious;function(){var n=this.plguin,i=n.$implementDiv,r=n.$element,u=n.getSettings(),t=u.cssClass;n.classAddRemove(r,t.requestSending);n.classAddRemove(i,t.requestSending)}function(){var n=this.plguin,i=n.$implementDiv,r=n.$element,u=n.getSettings(),t=u.cssClass;n.classAddRemove(r,null,t.requestSending);n.classAddRemove(i,null,t.requestSending)}function(){}function(n,t,i,r){var u=this.plguin,f=u.getSubmitMethod(),o=u.isDebugging,e=u.getSettings().events;!this.isEmpty(e.beforeSendingRequest);this.abortPrevious();this.addClassWhileSending();u.markAsProcessing(n,!0);this.ajaxRequest=jQuery.ajax({method:f,url:i,data:r,crossDomain:!0,dataType:"JSON"});this.ajaxRequest.done(this.dataReceived);this.ajaxRequest.fail(function(t,r,u){this.removeClassAfterSendingRequest();self.errorProcess(n,$input,t,r,u,i);console.log("Request failed: "+u+". Url : "+i)})}function(n){var t=this.plguin,r=t.getSubmitMethod(),i=t.isDebugging,u=t.getSettings().events;this.removeClassAfterSendingRequest();i&&console.log(n)}function(n,t,i,r,u,f){var e=i.status,o=this.getSettings(),s=o.events,h="";if(e===0&&(e=404,r="Requested url doesn't lead to a valid request."),h="Code "+e+" : "+r,this.showErrorIcon(t,h),o.focusPersistIfNotValid&&this.focusIfnotValid(t,!0),!this.isEmpty(s.onError))s.onError(n,t,i,r,u,f)}getRegularData;function(){var n=this.plguin,t=u.ajax}function(){var n=this.plguin}});$.fn.serverComboBox=function(n){var f=this,s=$.extend({},defaults,n),i=s.selectors,h=i.additionalFields,r,t;for($selfContainer=this,isInit!==!0&&($divContainers=f.find(i.divContainer),additionalFields=processAdditionalFields(f,h),isInit=!0),r=$divContainers,t=0;t<r.length;t++){var u=$(r[t]),c=$.extend({},defaults,n),e=u.find(i.comboImplement),o=getSettingfromDiv(e,c);console.log(o);console.log(u);new plugin(u,e,o)}};jQuery;window;document;
//# sourceMappingURL=jquery.server-combo.min.js.map
